<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <title>Maskinporten</title>
    <meta name="description" content="Tolletatens integrasjon med maskinporten">
    <meta name="author" content="Tolletaten">
    <link rel="stylesheet" href="../style/api.css">
    <link rel="icon" href="/favicon.ico"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="theme-color" content="#000000"/>
    <link rel="shortcut icon" href="/logo32.png" type="image/png"/>
    <link rel="apple-touch-icon" href="/logo152.png"/>
    <link rel="apple-touch-icon-precomposed" href="/logo152.png"/>
    <meta name="msapplication-TileColor" content="#37424A"/>
    <meta name="msapplication-TileImage" content="/logo152.png"/>
</head>
<body>


<header>
    <a href="https://toll.github.io/">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="260px" height="64px" viewBox="0 0 260 64"
             xml:space="preserve" fill="#000000"><g><g><path d="M17.75,8.23v23.61h-6.8V8.23H3.46V2.86h21.76v5.38H17.75z"></path><path
                d="M42.15,32.35c-8.61,0-15.38-5.59-15.38-14.95c0-9.37,6.76-15,15.38-15s15.38,5.63,15.38,15 C57.52,26.76,50.76,32.35,42.15,32.35z M42.15,8.19c-4.83,0-8.49,3.49-8.49,9.03c0,5.54,3.65,9.07,8.49,9.07s8.49-3.53,8.49-9.07 C50.63,11.72,46.98,8.19,42.15,8.19z"></path><path
                d="M63.44,31.84V2.86h6.76v23.36h10.04v5.63H63.44z"></path><path
                d="M85.41,31.84V2.86h6.76v23.36h10.04v5.63H85.41z"></path><path
                d="M107.37,31.84V2.86h18.78v5.42h-12.01v5.92h9.64v5.42h-9.64v6.72h12.39v5.5H107.37z"></path><path
                d="M144.63,8.23v23.61h-6.8V8.23h-7.48V2.86h21.76v5.38H144.63z"></path><path
                d="M172.77,31.84L170.71,26h-10.33l-2.06,5.84h-7.06l10.92-29.03h7.06l10.92,29.03H172.77z M165.54,10.29 l-3.61,10.42h7.23L165.54,10.29z"></path><path
                d="M193.18,8.23v23.61h-6.8V8.23h-7.48V2.86h21.76v5.38H193.18z"></path><path
                d="M205.57,31.84V2.86h18.78v5.42h-12.01v5.92h9.64v5.42h-9.64v6.72h12.39v5.5H205.57z"></path><path
                d="M250.26,31.84l-12.73-19.66c0,0,0.13,3.49,0.13,6.55v13.11h-6.64V2.86h7.27l12.43,19.49 c0,0-0.13-3.28-0.13-6.34V2.86h6.64v28.99H250.26z"></path></g><g><path d="M13.12,60.73l-6.77-9.35c0,0,0.03,1.58,0.03,3.11v6.24H4.76V49h1.73l6.65,9.21c0,0-0.02-1.45-0.02-2.99V49 h1.61v11.73H13.12z"></path>
            <path d="M23.24,60.93c-3.3,0-6.05-2.29-6.05-6.05s2.75-6.05,6.05-6.05c3.3,0,6.05,2.29,6.05,6.05 S26.53,60.93,23.24,60.93z M23.24,50.26c-2.4,0-4.37,1.72-4.37,4.59c0,2.86,1.99,4.59,4.37,4.59c2.4,0,4.37-1.73,4.37-4.59 C27.6,51.98,25.63,50.26,23.24,50.26z"></path>
            <path d="M37.69,60.73l-3.06-5.05h-1.26v5.05h-1.65V49h3.31c2.09,0,3.96,0.97,3.96,3.3c0,2.06-1.43,2.97-2.67,3.21 l3.35,5.22H37.69z M36.55,50.77c-0.53-0.39-1.16-0.42-1.97-0.42h-1.21v3.98h1.21c0.82,0,1.45-0.03,1.97-0.41 c0.53-0.39,0.75-0.87,0.75-1.58C37.29,51.64,37.07,51.14,36.55,50.77z"></path>
            <path d="M52.61,60.75H51l-2.82-9.48l-2.81,9.48h-1.61L40.37,49h1.73l2.53,9.25l2.7-9.25h1.68l2.7,9.25L54.26,49h1.73 L52.61,60.75z"></path>
            <path d="M58.22,60.73V49h6.87v1.38h-5.22v3.5h4.93v1.39h-4.93v4.06h5.35v1.39H58.22z"></path>
            <path d="M73.08,60.93c-3.35,0-5.98-2.41-5.98-6.07s2.63-6.03,5.97-6.03c3.01,0,4.3,1.58,4.74,2.04l-1.12,1.04 c-0.7-0.82-1.79-1.67-3.62-1.67c-2.41,0-4.27,1.73-4.27,4.62s1.92,4.62,4.37,4.62c2.43,0,3.3-1.07,3.3-1.07v-2.6H73.3v-1.34h4.76 v4.55C77.84,59.25,76.41,60.93,73.08,60.93z"></path>
            <path d="M80.8,60.73V49h1.65v11.73H80.8z"></path>
            <path d="M93.78,60.73l-1.21-3.06h-5.03l-1.21,3.06h-1.73l4.78-11.76h1.44l4.79,11.76H93.78z M90.06,51.02l-2.06,5.27 h4.11L90.06,51.02z"></path>
            <path d="M106.16,60.73l-6.77-9.35c0,0,0.03,1.58,0.03,3.11v6.24H97.8V49h1.73l6.65,9.21c0,0-0.02-1.45-0.02-2.99V49 h1.61v11.73H106.16z"></path>
            <path d="M120.78,60.93c-3.42,0-5.98-2.4-5.98-6.05c0-3.65,2.63-6.05,6-6.05c2.19,0,3.52,0.92,4.17,1.55l-0.7,1.33 c-0.46-0.58-1.77-1.43-3.4-1.43c-2.53,0-4.37,1.82-4.37,4.57c0,2.75,1.85,4.57,4.37,4.57c1.55,0,2.74-0.59,3.5-1.43l0.71,1.21 C124.35,60.02,123.01,60.93,120.78,60.93z"></path>
            <path d="M135.18,59.51c-0.8,0.92-1.97,1.43-3.52,1.43c-1.56,0-2.74-0.51-3.52-1.43c-0.82-0.95-0.95-2.11-0.95-3.57 V49h1.67v6.78c0,0.99,0.02,1.94,0.54,2.63c0.48,0.65,1.24,1.04,2.26,1.04c1.02,0,1.77-0.39,2.26-1.04 c0.53-0.7,0.54-1.67,0.54-2.63V49h1.65v6.93C136.11,57.4,135.98,58.55,135.18,59.51z"></path>
            <path d="M142.11,60.93c-2.06,0-3.23-1.33-3.79-1.97l0.97-1.11c0.59,0.8,1.7,1.68,2.97,1.68 c1.28,0,2.29-0.73,2.29-1.97c0-1.22-1.31-1.7-1.9-1.94c-0.61-0.24-1.43-0.56-1.87-0.78c-1.21-0.56-1.94-1.5-1.94-2.87 c0-2.09,1.9-3.13,3.77-3.13c1.92,0,3.04,1.17,3.37,1.51l-0.87,1.12c-0.58-0.61-1.43-1.26-2.58-1.26c-1.16,0-2.04,0.54-2.04,1.63 s0.8,1.5,1.51,1.79l2.16,0.9c1.21,0.56,2.04,1.53,2.04,2.92C146.21,59.74,144.17,60.93,142.11,60.93z"></path>
            <path d="M152.93,50.38v10.35h-1.65V50.38h-3.31V49h8.26v1.38H152.93z"></path>
            <path d="M162.79,60.93c-3.3,0-6.05-2.29-6.05-6.05s2.75-6.05,6.05-6.05c3.3,0,6.05,2.29,6.05,6.05 S166.08,60.93,162.79,60.93z M162.79,50.26c-2.4,0-4.37,1.72-4.37,4.59c0,2.86,1.99,4.59,4.37,4.59c2.4,0,4.37-1.73,4.37-4.59 C167.15,51.98,165.18,50.26,162.79,50.26z"></path>
            <path d="M181.76,60.73l-0.77-9.26h-0.05l-3.59,9.37h-0.93l-3.59-9.37h-0.05l-0.75,9.26h-1.63L171.46,49h2.04 l3.38,9.06h0.03L180.3,49h2.02l1.07,11.73H181.76z"></path>
            <path d="M189.12,60.93c-2.06,0-3.23-1.33-3.79-1.97l0.97-1.11c0.59,0.8,1.7,1.68,2.97,1.68 c1.28,0,2.29-0.73,2.29-1.97c0-1.22-1.31-1.7-1.9-1.94c-0.61-0.24-1.43-0.56-1.87-0.78c-1.21-0.56-1.94-1.5-1.94-2.87 c0-2.09,1.9-3.13,3.77-3.13c1.92,0,3.04,1.17,3.37,1.51l-0.87,1.12c-0.58-0.61-1.43-1.26-2.58-1.26c-1.16,0-2.04,0.54-2.04,1.63 s0.8,1.5,1.51,1.79l2.16,0.9c1.21,0.56,2.04,1.53,2.04,2.92C193.22,59.74,191.18,60.93,189.12,60.93z"></path></g></g>
            <title>Toll logo -- link to Toll github homepage</title>
        </svg>
    </a>
    <h1>Maskinporten</h1>
</header>


<main>
    <div class="column right">
        <div id="toc_container" aria-hidden="true">
            <h2 id="innhold" class="toc_title">Innhold</h2>
            <ul>
                <li><p><a href="#hva-er-maskinporten">Hva er Maskinporten</a></p></li>
                <li><p><a href="#drift">Drift og overvåking</a></p></li>
                <li><p><a href="#hva-skal-til-for-a-bruke-maskinporten">Hva skal til for å bruke</a></p>
                    <ol>
                        <li><p><a href="#anskaffe-virksomhetssertifikat">1. Virksomhetssertifikat</a></p></li>
                        <li><p><a href="#bli-kunde-hos-digdir">2. Kunde hos Digdir</a></p></li>
                        <li><p><a href="#bli-api-kunde">3. Registrer deg hos Tolletaten</a></p></li>
                        <li><p><a href="#lag-en-integrasjon">4. Integrasjon hos Digdir</a></p>
                            <ol>
                                <li><p><a href="#integrasjon-selvbetjening">4.1 Selvbetjening</a></p></li>
                                <li><p><a href="#integrasjon-i-ver2">4.2 Opprett i ver2</a></p></li>
                                <li><p><a href="#integrasjon-i-prod">4.3 Opprett i prod</a></p></li>
                                <li><p><a href="#ny-integrasjon">4.3 Ny integrasjon</a></p></li>
                            </ol></li>
                        <li><p><a href="#klientintegrasjon">5. Klientintegrasjon</a></p>
                            <ol>
                                <li><p><a href="#hent-maskinporten-token">5.1 Maskinporten token</a></p></li>
                                <!--
                                <li><p><a href="#deleger-roller">5.2 Deleger roller</a></p></li>
                                -->
                                <li><p><a href="#veksle-token">5.2 Veksle token</a></p></li>
                                <li><p><a href="#teste-tilgang-til-api">5.3 Teste tilgang</a></p></li>
                            </ol></li>
                    </ol></li>


                <li><p><a href="#scopes">Våre scopes</a></p></li>
            </ul>
        </div>
    </div>

    <div class="column left">
        <br/>
    </div>

    <div class="column middle">
        <h2 id="hva-er-maskinporten">Hva er Maskinporten?</h2>
        <p>
            Maskinporten og Altinn er nasjonale felleskomponenter utviklet og
            driftet av Digitaliseringsdirektoratet som sammen skal gjøre det enklere
            å dele og bruke data på tvers av systemer. Løsningene sørger for
            verifisering av identiteten til virksomheter og gi disse riktig tilgang
            til data som offentlige virksomheter tilbyr via grensesnitt.
            En forutsetninger for å benytte Maskinporten og Altinn er at organisasjonen
            er registrert i Enhetsregisteret med norsk organisasjonsnummer.
        </p>
        <p>
            <strong>Maskinporten</strong> er en løsning hos
            Digitaliseringsdirektoratet (<a href="https://samarbeid.digdir.no/maskinporten/maskinporten/25"
            target="_blank">Digdir</a>) for tilgangsstyring for
            virksomheter som utveksler data. Løsningen garanterer identitet mellom
            virksomheter og sørger for autentisering ved kommunikasjon maskin-til-maskin.
            Den gjør det mulig å binde sammen systemer og utvikle nye tjenester på en
            effektiv måte.
        </p>
        <p>
            Fremtidig mulighet, men ikke innført: <strong>Altinn
            (autorisasjon)</strong> gir mulighet for delegering av rettigheter til
            andre organisasjoner eller personer. Baserer seg på registrerte roller i
            Enhetsregisteret.
        </p>

        <p>
            Maskinporten sørger for sikker autentisering og tilgangskontroll for
            datautveksling mellom virksomheter. Løsningen garanterer identiteten
            mellom virksomheter og gjør det mulig å binde sammen systemer og utvikle
            nye tjenester på en effektiv måte.
        </p>

        <h2 id="drift">Drift og overvåking</h2>
        <p>
            Maskinporten skal ha en oppetid på 99,9% og ved avvik har den sjelden nedetid
            mer enn 5 minutter. Vi anbefaler derfor at våre klienter implementerer en
            retry-mekanisme slik at man <em>prøver på nytt</em> dersom meldinger blir
            avvist uten forklarlige feilmeldinger.
        </p>
        <p>
            Vi anbefaler videre å følge med på planlagt og ikke-planlagt driftsavvik:</p>
            <ul>
                <li><a href="https://status.digdir.no/history?filter=nthvr1xysxs7" target="_blank">Digitaliseringsdirektoratet Status - Historikk</a> under <a href="https://status.digdir.no/">https://status.digdir.no/</a></li>
            </ul>
        <p>Det er også mulig å verifisere om Maskinporten er oppe ved å benytte linkene under:</p>
        <ul>
            <li><p><a href="https://oidc.difi.no/idporten-oidc-provider/health"
                      class="uri" target="_blank">https://oidc.difi.no/idporten-oidc-provider/health</a></p></li>
            <li><p><a href="https://maskinporten.no/health"
                      class="uri" target="_blank">https://maskinporten.no/health</a></p></li>
        </ul>
        <p>Maskinporten har også laget en side med feilsøkingsforslag på <a
                href="https://docs.digdir.no/docs/Maskinporten/maskinporten_feilsoking"
                class="uri" target="_blank">https://docs.digdir.no/docs/Maskinporten/maskinporten_feilsoking</a>.
        </p>

        <h2 id="hva-skal-til-for-a-bruke-maskinporten">Hva skal til for å bruke Maskinporten?</h2>
        <p>
            Guiden under er i tråd med Maskinportens egen dokumentasjon,
            <a href="https://docs.digdir.no/docs/Maskinporten/maskinporten_guide_apikonsument" target="_blank">
                https://docs.digdir.no/docs/Maskinporten/maskinporten_guide_apikonsument</a>.
            Se også Digdirs guide for hvordan komme i gang med Maskinporten:
            <a href="https://samarbeid.digdir.no/maskinporten/konsument/119" class="uri" target="_blank">https://samarbeid.digdir.no/maskinporten/konsument/119</a>
        </p>
        <p><strong>Merk: </strong> <em>Denne oppskriften</em> ligner <em>på <a
                href="https://www.toll.no/no/bedrift/ekspressklarering/teknisk-informasjon/endringer-ustabilitet-feilmeldinger/autentisering-og-tilgang/maskin-til-maskin/" target="_blank">
            den som benyttes for manifester</a>, men den er</em> ikke <em>identisk</em>.</p>


        <h3 id="orgnummer">Forutsetning: norsk organisasjonsnummer</h3>
        <p>
            Det er en forutsetning for bruk av Maskinporten at man er registrert i Enhetsregisteret
            med et norsk organisasjonsnummer.
        </p>

        <h3 id="anskaffe-virksomhetssertifikat">1. Anskaffe virksomhetssertifikat for test og prod</h3>
        <p>
            Digdir vil validere din signatur mot ditt virksomhetssertifikat som
            er utstedt av en kjent sertifikattilbyder. Finn mer dokumentasjon <a
            href="https://docs.digdir.no/docs/Maskinporten/maskinporten_virksomhetssertifikat"
            target="_blank">hos Digdir</a>.
        </p>
        <p>
            Her er noen alternativer for anskaffelse av virksomhetssertifikat:</p>
        <ul>
            <li><p><a
                    href="https://www.commfides.com/commfides-virksomhetssertifikat/" target="_blank">
                https://www.commfides.com/commfides-virksomhetssertifikat/</a>
            </p></li>
            <li><p><a
                    href="https://www.buypass.no/produkter/virksomhetssertifikat-esegl" target="_blank">
                https://www.buypass.no/produkter/virksomhetssertifikat-esegl</a>
            </p></li>
        </ul>

        <h3 id="bli-kunde-hos-digdir">2. Bli kunde hos Digdir for tilgang til samarbeidsportalen</h3>
        <p>Ta kontakt med Digdir via <a href="mailto:servicedesk@digdir.no">servicedesk@digdir.no</a></p>

        <h3 id="bli-api-kunde">3. Registrer deg for tilgang hos Tolletaten</h3>
        <p>
            Skjema for innmelding finner du her: <a target="_blank"
            href=   "https://toll.no/no/bedrift/digital-tollbehandling/meldeogopplysningsplikt/digital-samhandler-med-tolletaten/">Registrering: Digitoll-aktør - Tolletaten</a>
        </p>
        <p>Tolletaten gir tilgang til det/de scopene som trengs for aktuell integrasjon, se
        <a href="#scopes">oversikt under</a>.</p>

        <h3 id="lag-en-integrasjon">4. Lag en integrasjon hos Digdir og koble denne opp mot Tolletatens API (scope)</h3>
        <p>Logg deg inn på <a href="https://samarbeid.digdir.no/" target="_blank">Samarbeidsportalen (digdir.no)</a></p>

        <h4 id="integrasjon-selvbetjening">4.1 Gå til selvbetjening av integrasjoner</h4>
        <figure>
            <img src="media/maskp-selvbetjening.png" alt="Se figurtekst"/>
            <figcaption>Figur: Gå til selvbetjening</figcaption>
        </figure>

        <figure>
            <img src="media/maskp-integrasjoner.png" alt="Se figurtekst"/>
            <figcaption>Figur: Velg miljø</figcaption>
        </figure>
        <p>
            For å administrere integrasjoner for testing: Velg "Integrasjoner" under <i>overskriften "Ver 2"</i><br/>
            For å administrere integrasjoner for produksjon: Velg "Integrasjoner" under <i>overskriften "Produksjon"</i>
        </p>

        <h4 id="integrasjon-i-ver2">4.2 Opprett en integrasjon i Ver2-miljøet hos Digdir</h4>
        <figure>
            <img src="media/maskp-ver2.png" alt="Se figurtekst"/>
            <figcaption>Figur: Gå til integrasjoner</figcaption>
        </figure>

        <h4 id="integrasjon-i-prod">4.3 Opprett en integrasjon i PRODUKSJON hos Difi</h4>
        <figure>
            <img src="media/maskp-prod.png" alt="Se figurtekst"/>
            <figcaption>Figur: Gå til integrasjoner</figcaption>
        </figure>

        <h4 id="ny-integrasjon">4.4 Ny integrasjon</h4>
        <figure>
            <img src="media/maskp-nyintegrasjon.png" alt="Se figurtekst"/>
            <figcaption>Figur: Trykk Ny integrasjon.</figcaption>
        </figure>
        <figure>
            <img src="media/maskp-opprettny.png" alt="Se figurtekst"/>
            <figcaption>Figur: Utfylling av felter</figcaption>
        </figure>
        <ul>
            <li>Difi-tjeneste = Maskinporten</li>
            <li>Legg til scopes &ndash;  se <a href="#scopes">oversikt over våre scopes under</a></li>
            <li>
                <em>Integrasjonens identifikator:</em> Dette er det som skal være satt i
                "iss"-feltet av din JWT som sendes til Difi (jf.
                <a href="#hent-maskinporten-token">avsnitt under</a>).
            </li>
            <li>
                <em>Navn på integrasjonen</em>: Her står du fritt selv til å velge hva
                integrasjonen mot Tolletaten skal hete.<br/>
                Det kan lønne seg å gi et navn som skiller på ulike tjenester og API-er for
                Tolletaten, siden vi har flere ulike API-er.
            </li>
            <li>
                <em>Grant-types</em>:
                Vi bruker <code>urn:ietf:params:oauth:grant-type:jwt-bearer</code> nå,
                dette kan endre seg på sikt.
            </li>
        </ul>

        <h3 id="klientintegrasjon">5. Klientintegrasjon</h3>
        <p>
            API-konsumenter må selv utvikle en applikasjon/system som
            henter access token fra Maskinporten og veksler disse inn mot
            Toll-signerte access tokens.
        </p>
        <p class="tips_box">
            <strong>TIPS:</strong><br/>
            Et Toll-signert access token kan brukes i hele dets levetid, derfor
            anbefales det å mellomlagre disse når en kommuniserer med Tolletatens
            API-er. For en mer sømløs opplevelse anbefaler vi videre å utveksle til
            et nytt Toll token før (f.eks 1 minutt før) levetiden til det foregående
            utgår.
        </p>

        <h4 id="hent-maskinporten-token">5.1 Hent access token fra Maskinporten</h4>
        <p>Se Maskinportens egen <a
                href="https://docs.digdir.no/docs/Maskinporten/maskinporten_guide_apikonsument"
                target="_blank">dokumentasjon</a> på hvordan hente ut et access token.</p>
        <p class="tips_box">
            <strong>TIPS:</strong><br/>
            Difi har publisert et <a href="https://github.com/difi/jwt-grant-generator"
            target="_blank">repository på github (jwt-grant-generator)</a> som
            demonstrer hvordan en kan hente ut access token fra Difis tjenester,
            deriblant Maskinporten.
        </p>
<!--
        <h4 id="deleger-roller">5.2 Deleger roller i Altinn</h4>
        <p>
            Dersom man benytter en systemleverandør for å utveksle informasjon
            med Tolletaten må rettigheter delegeres via Altinn: <a
                    href="https://www.altinn.no/hjelp/profil/roller-og-rettigheter/hvordan-gi-rettigheter-til-andre/"
                    class="uri" target="_blank">https://www.altinn.no/hjelp/profil/roller-og-rettigheter/hvordan-gi-rettigheter-til-andre/</a>.
        </p>
        <p>
            Om du ønsker å finne ut hva rollene gir tilgang til, logg inn i
            Altinn og se under <em>Skjema og tjenester du har rettighet til</em>,
            der får du oversikt over rollene du har for den aktøren du
            representerer. Til høyre for hver rolle finner du et spørsmålstegn,
            klikk der og du vil se hvilke tilganger rollen gir deg.
        </p>
-->
        <h4 id="veksle-token">5.2 Veksle Maskinportens access token til et Toll-signert access token</h4>

        <h5 id="http-request">HTTP Request</h5>
        <p>Method: <strong>POST</strong></p>
        <p>URL:</p>
        <table>
            <thead>
                <tr>
                    <th scope="column">Miljø</th>
                    <th scope="column">URL</th>
                </tr>
            </thead>
            <tbody>
            <tr>
                <td>Test</td>
                <td><a href="https://api-test.toll.no/api/access/external/oauth/token">
                        https://api-test.toll.no/api/access/external/oauth/token</a></td>
            </tr>
            <tr>
                <td>Produksjon</td>
                <td><a href="https://api-test.toll.no/api/access/external/oauth/token">
                    https://api.toll.no/api/access/external/oauth/token</a></td>
            </tr>
            </tbody>
        </table>

        <p>HEADER:</p>
        <table>
            <thead>
            <tr>
                <th scope="column">Header</th>
                <th scope="column">Value</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>Content-type</td>
                <td>application/x-www-form-urlencoded</td>
            </tr>
            </tbody>
        </table>

        <p>BODY:</p>
        <table>
            <thead>
            <tr>
                <th scope="column">Key</th>
                <th scope="column">Value</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>grant_type</td>
                <td>token-exchange</td>
            </tr>
            <tr>
                <td>subject_token_type</td>
                <td>access_token</td>
            </tr>
            <tr>
                <td>subject_token</td>
                <td>&lt;MASKINPORTEN ACCESS TOKEN HER&gt;</td>
            </tr>
            </tbody>
        </table>

        <h5 id="eksempel-http-response">Eksempel: HTTP Response</h5>
        <p><strong>Maskinporten Access Token - Response</strong></p>
        <pre>
{
    "issued_token_type": "access_token",
    "access_token": "&lt;TOLL ACCESS TOKEN HER&gt;"
    "token_type": "Bearer",
    "expires_in": 970
}
        </pre>

        <h4 id="teste-tilgang-til-api">5.3 Teste tilgang til API-et</h4>
        <p>Dette eksempelet gjelder for API-et for kjøretøy på vei.</p>

        <h5 id="http-request-1">HTTP Request</h5>
        <p>Method: <strong>GET</strong></p>
        <p>URL:</p>
        <table>
            <thead>
            <tr>
                <th scope="column">Miljø</th>
                <th scope="column">URL</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>Test</td>
                <td><a href="https://api-test.toll.no/api/movement/road/v1/test-auth">
                    https://api-test.toll.no/api/movement/road/v1/test-auth</a>
                </td>
            </tr>
            <tr>
                <td>Produksjon</td>
                <td><a href="https://api-test.toll.no/api/movement/road/v1/test-auth">
                    https://api.toll.no/api/movement/road/v1/test-auth</a>
                </td>
            </tr>
            </tbody>
        </table>

        <p>HEADER:</p>
        <table>
            <thead>
            <tr>
                <th scope="column">Header</th>
                <th scope="column">Value</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>Authorization</td>
                <td>Bearer &lt;TOLL ACCESS TOKEN&gt;</td>
            </tr>
            </tbody>
        </table>
        <p>Forventet resultat er <strong>200 OK</strong>.</p>



        <h2 id="scopes">Våre scopes</h2>
        <p>Hvilke(t) scope du skal bruke avhenger av hvilke tjenester du skal ta i bruk, og krever tildelt tilgang til
           dette scopet fra Tolletaten:</p>
                <dl>
                    <dt>movement-road-api:</dt><dd><strong>toll:movement/road</strong></dd>
                    <dt>movement-air-api:</dt><dd><strong>toll:movement/air</strong></dd>
                    <dt>ICS2: movement/presentation &amp; movement/routing</dt><dd><strong>toll:movement/entry</strong></dd>
                    <dt>Dokumentopplasting:</dt><dd><strong>toll:goodsdeclaration/document.write</strong></dd>
                </dl>

    </div>


</main>

<footer>
    <a href="https://www.toll.no/">Tolletaten</a> 2023 | <a href="https://www.toll.no/no/om-tolletaten/kontakt-oss/" class="footerLink">Kontakt oss</a>
</footer>

</body>
</html>